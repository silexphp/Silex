TwigExtension
=============

Расширение *TwigExtension* позволяет использовать шаблонизатор 
`Twig <http://www.twig-project.org/>`_ .

Параметры
----------
* **twig.path**: Путь к каталогу содержащему файлы шаблонов twig.

* **twig.templates** (необязательно): При указании данного параметра
  не нужно указывать настройку ``twig.path``. Данный параметр - ассоциативный
  массив имён и шаблонов. Используйте его если хотите задать встроенные 
  шаблоны.
    
* **twig.options** (необязательно): Ассоциатвный массив настроек twig. 
  Подробную информацию читайте в документации к twig.

* **twig.class_path** (необязательно): Путь к библиотеке Twig.

Сервисы
--------

* **twig**: Экземпляр ``Twig_Environment``. Предоставляет основной 
  способ взаимодействия с шаблонизатором.

* **twig.configure**: Защищенное хранилище, которое принимает 
  в качестве аргумента окружение Twig. Можно использовать для
  увеличения количества доступных глобальных переменных.

* **twig.loader**: Загрузчик шаблонов, который использует параметры
  ``twig.path`` и ``twig.templates``. Можно заменить загрузчик 
  полностью по-своему усмотрению.

Регистрация
-----------

Удостоверьтесь что поместили копию *Twig* в каталог ``vendor/twig``.

::

    use Silex\Extension\TwigExtension;

    $app->register(new TwigExtension(), array(
        'twig.path'       => __DIR__.'/views',
        'twig.class_path' => __DIR__.'/vendor/twig/lib',
    ));

.. note::
    Twig не компилируется в файл ``silex.phar``. Необходимо
    добавить свою копию Twig'а в своё приложение.        

Использование
-------------

Расширение Twig дает доступ к сервису ``twig``

::

    $app->get('/hello/{name}', function ($name) use ($app) {
        return $app['twig']->render('hello.twig', array(
            'name' => $name,
        ));
    });

Приведенный код сформирует изображение файла с именем
``views/hello.twig``.

This will render a file named ``views/hello.twig``.

Также код регистрирует приложение в качестве глобального имени
``app``. Таким образом можно получить доступ к любому сервису из
представления (view). Например для доступа к 
``$app['request']->getHost()``, добавьте следующий код 
в шаблон:

.. code-block:: jinja

    {{ app.request.host }}